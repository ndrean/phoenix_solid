(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const At="modulepreload",xt=function(e){return"/spa/"+e},Ke={},Se=function(t,n,s){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=xt(r),r in Ke)return;Ke[r]=!0;const o=r.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===r&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":At,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},v={context:void 0,registry:void 0};function oe(e){v.context=e}const Rt=(e,t)=>e===t,fe=Symbol("solid-proxy"),kt=Symbol("solid-dev-component"),de={equals:Rt};let Pt=ht;const U=1,ge=2,st={owned:null,cleanups:null,context:null,owner:null},Ae={};var w=null;let xe=null,m=null,S=null,I=null,be=0;function it(e,t){const n=m,s=w,i=e.length===0,r=i?st:{owned:null,cleanups:null,context:null,owner:t===void 0?s:t},o=i?e:()=>e(()=>A(()=>we(r)));w=r,m=null;try{return N(o,!0)}finally{m=n,w=s}}function R(e,t){t=t?Object.assign({},de,t):de;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),ct(n,i));return[at.bind(n),s]}function ze(e,t,n){const s=Ie(e,t,!0,U);ne(s)}function $(e,t,n){const s=Ie(e,t,!1,U);ne(s)}function C(e,t,n){n=n?Object.assign({},de,n):de;const s=Ie(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,ne(s),at.bind(s)}function jt(e,t,n){let s,i,r;arguments.length===2&&typeof t=="object"||arguments.length===1?(s=!0,i=e,r=t||{}):(s=e,i=t,r=n||{});let o=null,l=Ae,a=null,c=!1,u="initialValue"in r,h=typeof s=="function"&&C(s);const f=new Set,[y,E]=(r.storage||R)(r.initialValue),[b,L]=R(void 0),[_,q]=R(void 0,{equals:!1}),[D,B]=R(u?"ready":"unresolved");if(v.context){a=`${v.context.id}${v.context.count++}`;let d;r.ssrLoadFrom==="initial"?l=r.initialValue:v.load&&(d=v.load(a))&&(l=d[0])}function k(d,g,p,P){return o===d&&(o=null,P!==void 0&&(u=!0),(d===l||g===l)&&r.onHydrated&&queueMicrotask(()=>r.onHydrated(P,{value:g})),l=Ae,ie(g,p)),g}function ie(d,g){N(()=>{g===void 0&&E(()=>d),B(g!==void 0?"errored":u?"ready":"unresolved"),L(g);for(const p of f.keys())p.decrement();f.clear()},!1)}function G(){const d=Nt,g=y(),p=b();if(p!==void 0&&!o)throw p;return m&&!m.user&&d&&ze(()=>{_(),o&&(d.resolved||f.has(d)||(d.increment(),f.add(d)))}),g}function z(d=!0){if(d!==!1&&c)return;c=!1;const g=h?h():s;if(g==null||g===!1){k(o,A(y));return}const p=l!==Ae?l:A(()=>i(g,{value:y(),refetching:d}));return typeof p!="object"||!(p&&"then"in p)?(k(o,p,void 0,g),p):(o=p,c=!0,queueMicrotask(()=>c=!1),N(()=>{B(u?"refreshing":"pending"),q()},!1),p.then(P=>k(p,P,void 0,g),P=>k(p,void 0,Mt(P),g)))}return Object.defineProperties(G,{state:{get:()=>D()},error:{get:()=>b()},loading:{get(){const d=D();return d==="pending"||d==="refreshing"}},latest:{get(){if(!u)return G();const d=b();if(d&&!o)throw d;return y()}}}),h?ze(()=>z(!1)):z(!1),[G,{refetch:z,mutate:E}]}function A(e){if(m===null)return e();const t=m;m=null;try{return e()}finally{m=t}}function rt(e,t,n){const s=Array.isArray(e);let i,r=n&&n.defer;return o=>{let l;if(s){l=Array(e.length);for(let c=0;c<e.length;c++)l[c]=e[c]()}else l=e();if(r){r=!1;return}const a=A(()=>t(l,i,o));return i=l,a}}function ot(e){return w===null||(w.cleanups===null?w.cleanups=[e]:w.cleanups.push(e)),e}function Lt(){return w}function Ot(e,t){const n=w,s=m;w=e,m=null;try{return N(t,!0)}catch(i){Fe(i)}finally{w=n,m=s}}function $t(e){const t=m,n=w;return Promise.resolve().then(()=>{m=t,w=n;let s;return N(e,!1),m=w=null,s?s.done:void 0})}function lt(e,t){const n=Symbol("context");return{id:n,Provider:Ht(n),defaultValue:e}}function Ue(e){let t;return(t=dt(w,e.id))!==void 0?t:e.defaultValue}function De(e){const t=C(e),n=C(()=>Ne(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let Nt;function at(){if(this.sources&&this.state)if(this.state===U)ne(this);else{const e=S;S=null,N(()=>pe(this),!1),S=e}if(m){const e=this.observers?this.observers.length:0;m.sources?(m.sources.push(this),m.sourceSlots.push(e)):(m.sources=[this],m.sourceSlots=[e]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])}return this.value}function ct(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&N(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],o=xe&&xe.running;o&&xe.disposed.has(r),(o?!r.tState:!r.state)&&(r.pure?S.push(r):I.push(r),r.observers&&ft(r)),o||(r.state=U)}if(S.length>1e6)throw S=[],new Error},!1)),t}function ne(e){if(!e.fn)return;we(e);const t=w,n=m,s=be;m=w=e,_t(e,e.value,s),m=n,w=t}function _t(e,t,n){let s;try{s=e.fn(t)}catch(i){return e.pure&&(e.state=U,e.owned&&e.owned.forEach(we),e.owned=null),e.updatedAt=n+1,Fe(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ct(e,s):e.value=s,e.updatedAt=n)}function Ie(e,t,n,s=U,i){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:null,pure:n};return w===null||w!==st&&(w.owned?w.owned.push(r):w.owned=[r]),r}function ut(e){if(e.state===0)return;if(e.state===ge)return pe(e);if(e.suspense&&A(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<be);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===U)ne(e);else if(e.state===ge){const s=S;S=null,N(()=>pe(e,t[0]),!1),S=s}}function N(e,t){if(S)return e();let n=!1;t||(S=[]),I?n=!0:I=[],be++;try{const s=e();return Bt(n),s}catch(s){n||(I=null),S=null,Fe(s)}}function Bt(e){if(S&&(ht(S),S=null),e)return;const t=I;I=null,t.length&&N(()=>Pt(t),!1)}function ht(e){for(let t=0;t<e.length;t++)ut(e[t])}function pe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const i=s.state;i===U?s!==t&&(!s.updatedAt||s.updatedAt<be)&&ut(s):i===ge&&pe(s,t)}}}function ft(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ge,n.pure?S.push(n):I.push(n),n.observers&&ft(n))}}function we(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),o=n.observerSlots.pop();s<i.length&&(r.sourceSlots[o]=s,i[s]=r,n.observerSlots[s]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)we(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Mt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Fe(e){throw e}function dt(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:dt(e.owner,t):void 0}function Ne(e){if(typeof e=="function"&&!e.length)return Ne(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Ne(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function Ht(e,t){return function(s){let i;return $(()=>i=A(()=>(w.context={[e]:s.value},De(()=>s.children))),void 0),i}}function T(e,t){return A(()=>e(t||{}))}function le(){return!0}const _e={get(e,t,n){return t===fe?n:e.get(t)},has(e,t){return t===fe?!0:e.has(t)},set:le,deleteProperty:le,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:le,deleteProperty:le}},ownKeys(e){return e.keys()}};function Re(e){return(e=typeof e=="function"?e():e)?e:{}}function Ut(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function me(...e){let t=!1;for(let r=0;r<e.length;r++){const o=e[r];t=t||!!o&&fe in o,e[r]=typeof o=="function"?(t=!0,C(o)):o}if(t)return new Proxy({get(r){for(let o=e.length-1;o>=0;o--){const l=Re(e[o])[r];if(l!==void 0)return l}},has(r){for(let o=e.length-1;o>=0;o--)if(r in Re(e[o]))return!0;return!1},keys(){const r=[];for(let o=0;o<e.length;o++)r.push(...Object.keys(Re(e[o])));return[...new Set(r)]}},_e);const n={},s={};let i=!1;for(let r=e.length-1;r>=0;r--){const o=e[r];if(!o)continue;const l=Object.getOwnPropertyNames(o);i=i||r!==0&&!!l.length;for(let a=0,c=l.length;a<c;a++){const u=l[a];if(!(u==="__proto__"||u==="constructor"))if(u in n){const h=s[u],f=Object.getOwnPropertyDescriptor(o,u);h?f.get?h.push(f.get.bind(o)):f.value!==void 0&&h.push(()=>f.value):n[u]===void 0&&(n[u]=f.value)}else{const h=Object.getOwnPropertyDescriptor(o,u);h.get?Object.defineProperty(n,u,{enumerable:!0,configurable:!0,get:Ut.bind(s[u]=[h.get.bind(o)])}):n[u]=h.value}}}return n}function qe(e,...t){if(fe in e){const i=new Set(t.length>1?t.flat():t[0]),r=t.map(o=>new Proxy({get(l){return o.includes(l)?e[l]:void 0},has(l){return o.includes(l)&&l in e},keys(){return o.filter(l=>l in e)}},_e));return r.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},_e)),r}const n={},s=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const r=Object.getOwnPropertyDescriptor(e,i),o=!r.get&&!r.set&&r.enumerable&&r.writable&&r.configurable;let l=!1,a=0;for(const c of t)c.includes(i)&&(l=!0,o?s[a][i]=r.value:Object.defineProperty(s[a],i,r)),++a;l||(o?n[i]=r.value:Object.defineProperty(n,i,r))}return[...s,n]}function ke(e){let t,n;const s=i=>{const r=v.context;if(r){const[l,a]=R();(n||(n=e())).then(c=>{oe(r),a(()=>c.default),oe()}),t=l}else if(!t){const[l]=jt(()=>(n||(n=e())).then(a=>a.default));t=l}let o;return C(()=>(o=t())&&A(()=>{if(!r)return o(i);const l=v.context;oe(r);const a=o(i);return oe(l),a}))};return s.preload=()=>n||((n=e()).then(i=>t=()=>i.default),n),s}const Dt=e=>`Stale read from <${e}>.`;function gt(e){const t=e.keyed,n=C(()=>e.when,void 0,{equals:(s,i)=>t?s===i:!s==!i});return C(()=>{const s=n();if(s){const i=e.children;return typeof i=="function"&&i.length>0?A(()=>i(t?s:()=>{if(!A(n))throw Dt("Show");return e.when})):i}return e.fallback},void 0,void 0)}const It=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ft=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...It]),qt=new Set(["innerHTML","textContent","innerText","children"]),Gt=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Vt=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Kt(e,t){const n=Vt[e];return typeof n=="object"?n[t]?n.$:void 0:n}const zt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Wt=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Jt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Xt(e,t,n){let s=n.length,i=t.length,r=s,o=0,l=0,a=t[i-1].nextSibling,c=null;for(;o<i||l<r;){if(t[o]===n[l]){o++,l++;continue}for(;t[i-1]===n[r-1];)i--,r--;if(i===o){const u=r<s?l?n[l-1].nextSibling:n[r-l]:a;for(;l<r;)e.insertBefore(n[l++],u)}else if(r===l)for(;o<i;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[l]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--r],u),t[i]=n[r]}else{if(!c){c=new Map;let h=l;for(;h<r;)c.set(n[h],h++)}const u=c.get(t[o]);if(u!=null)if(l<u&&u<r){let h=o,f=1,y;for(;++h<i&&h<r&&!((y=c.get(t[h]))==null||y!==u+f);)f++;if(f>u-l){const E=t[o];for(;l<u;)e.insertBefore(n[l++],E)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const We="_$DX_DELEGATE";function Yt(e,t,n,s={}){let i;return it(r=>{i=r,t===document?e():Be(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function Ge(e,t,n){let s;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},r=t?()=>A(()=>document.importNode(s||(s=i()),!0)):()=>(s||(s=i())).cloneNode(!0);return r.cloneNode=r,r}function pt(e,t=window.document){const n=t[We]||(t[We]=new Set);for(let s=0,i=e.length;s<i;s++){const r=e[s];n.has(r)||(n.add(r),t.addEventListener(r,ln))}}function ee(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Qt(e,t,n,s){s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s)}function X(e,t){t==null?e.removeAttribute("class"):e.className=t}function Zt(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=r=>i.call(e,n[1],r))}else e.addEventListener(t,n)}function en(e,t,n={}){const s=Object.keys(t||{}),i=Object.keys(n);let r,o;for(r=0,o=i.length;r<o;r++){const l=i[r];!l||l==="undefined"||t[l]||(Je(e,l,!1),delete n[l])}for(r=0,o=s.length;r<o;r++){const l=s[r],a=!!t[l];!l||l==="undefined"||n[l]===a||!a||(Je(e,l,!0),n[l]=a)}return n}function tn(e,t,n){if(!t)return n?ee(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let i,r;for(r in n)t[r]==null&&s.removeProperty(r),delete n[r];for(r in t)i=t[r],i!==n[r]&&(s.setProperty(r,i),n[r]=i);return n}function mt(e,t={},n,s){const i={};return s||$(()=>i.children=K(e,t.children,i.children)),$(()=>t.ref&&t.ref(e)),$(()=>sn(e,t,n,!0,i,!0)),i}function nn(e,t,n){return A(()=>e(t,n))}function Be(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return K(e,t,s,n);$(i=>K(e,t(),i,n),s)}function sn(e,t,n,s,i={},r=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=Xe(e,o,null,i[o],n,r)}for(const o in t){if(o==="children"){s||K(e,t.children);continue}const l=t[o];i[o]=Xe(e,o,l,i[o],n,r)}}function rn(e){let t,n;if(!v.context||!(t=v.registry.get(n=an()))){if(v.context&&console.warn("Unable to find DOM nodes for hydration key:",n),!e)throw new Error("Unrecoverable Hydration Mismatch. No template for key: "+n);return e()}return v.completed&&v.completed.add(t),v.registry.delete(n),t}function on(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Je(e,t,n){const s=t.trim().split(/\s+/);for(let i=0,r=s.length;i<r;i++)e.classList.toggle(s[i],n)}function Xe(e,t,n,s,i,r){let o,l,a,c,u;if(t==="style")return tn(e,n,s);if(t==="classList")return en(e,n,s);if(n===s)return s;if(t==="ref")r||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);s&&e.removeEventListener(h,s),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);s&&e.removeEventListener(h,s,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=zt.has(h);if(!f&&s){const y=Array.isArray(s)?s[0]:s;e.removeEventListener(h,y)}(f||n)&&(Zt(e,h,n,f),f&&pt([h]))}else if(t.slice(0,5)==="attr:")ee(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(a=qt.has(t))||!i&&((c=Kt(t,e.tagName))||(l=Ft.has(t)))||(o=e.nodeName.includes("-")))u&&(t=t.slice(5),l=!0),t==="class"||t==="className"?X(e,n):o&&!l&&!a?e[on(t)]=n:e[c||t]=n;else{const h=i&&t.indexOf(":")>-1&&Jt[t.split(":")[0]];h?Qt(e,h,t,n):ee(e,Gt[t]||t,n)}return n}function ln(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),v.registry&&!v.done&&(v.done=_$HY.done=!0);n;){const s=n[t];if(s&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?s.call(n,i,e):s.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function K(e,t,n,s,i){if(v.context){!n&&(n=[...e.childNodes]);let l=[];for(let a=0;a<n.length;a++){const c=n[a];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():l.push(c)}n=l}for(;typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(v.context)return n;if(r==="number"&&(t=t.toString()),o){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=V(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(v.context)return n;n=V(e,n,s)}else{if(r==="function")return $(()=>{let l=t();for(;typeof l=="function";)l=l();n=K(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[],a=n&&Array.isArray(n);if(Me(l,t,n,i))return $(()=>n=K(e,l,n,s,!0)),()=>n;if(v.context){if(!l.length)return n;for(let c=0;c<l.length;c++)if(l[c].parentNode)return n=l}if(l.length===0){if(n=V(e,n,s),o)return n}else a?n.length===0?Ye(e,l,s):Xt(e,n,l):(n&&V(e),Ye(e,l));n=l}else if(t.nodeType){if(v.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=V(e,n,s,t);V(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function Me(e,t,n,s){let i=!1;for(let r=0,o=t.length;r<o;r++){let l=t[r],a=n&&n[r],c;if(!(l==null||l===!0||l===!1))if((c=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=Me(e,l,a)||i;else if(c==="function")if(s){for(;typeof l=="function";)l=l();i=Me(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||i}else e.push(l),i=!0;else{const u=String(l);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return i}function Ye(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function V(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const a=l.parentNode===e;!r&&!o?a?e.replaceChild(i,l):e.insertBefore(i,n):a&&l.remove()}else r=!0}}else e.insertBefore(i,n);return[i]}function an(){const e=v.context;return`${e.id}${e.count++}`}const cn=!1,un="http://www.w3.org/2000/svg";function hn(e,t=!1){return t?document.createElementNS(un,e):document.createElement(e)}function fn(e){const[t,n]=qe(e,["component"]),s=C(()=>t.component);return C(()=>{const i=s();switch(typeof i){case"function":return Object.assign(i,{[kt]:!0}),A(()=>i(n));case"string":const r=Wt.has(i),o=v.context?rn():hn(i,r);return mt(o,n,r),o}})}var Q=e=>typeof e=="function"?e:function(){return e},dn=typeof self<"u"?self:null,Y=typeof window<"u"?window:null,Z=dn||Y||Z,gn="2.0.0",j={connecting:0,open:1,closing:2,closed:3},pn=1e4,mn=1e3,x={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},O={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},He={longpoll:"longpoll",websocket:"websocket"},yn={complete:4},ae=class{constructor(e,t,n,s){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=s,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},yt=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},bn=class{constructor(e,t,n){this.state=x.closed,this.topic=e,this.params=Q(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new ae(this,O.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new yt(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=x.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=x.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=x.closed,this.socket.remove(this)}),this.onError(s=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,s),this.isJoining()&&this.joinPush.reset(),this.state=x.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new ae(this,O.leave,Q({}),this.timeout).send(),this.state=x.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(O.reply,(s,i)=>{this.trigger(this.replyEventName(i),s)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(O.close,e)}onError(e){return this.on(O.error,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>!(n.event===e&&(typeof t>"u"||t===n.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let s=new ae(this,e,function(){return t},n);return this.canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=x.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(O.close,"leave")},n=new ae(this,O.leave,Q({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,s){return this.topic!==e?!1:s&&s!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:s}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=x.joining,this.joinPush.resend(e))}trigger(e,t,n,s){let i=this.onMessage(e,t,n,s);if(t&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let r=this.bindings.filter(o=>o.event===e);for(let o=0;o<r.length;o++)r[o].callback(i,n,s||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===x.closed}isErrored(){return this.state===x.errored}isJoined(){return this.state===x.joined}isJoining(){return this.state===x.joining}isLeaving(){return this.state===x.leaving}},ye=class{static request(e,t,n,s,i,r,o){if(Z.XDomainRequest){let l=new Z.XDomainRequest;return this.xdomainRequest(l,e,t,s,i,r,o)}else{let l=new Z.XMLHttpRequest;return this.xhrRequest(l,e,t,n,s,i,r,o)}}static xdomainRequest(e,t,n,s,i,r,o){return e.timeout=i,e.open(t,n),e.onload=()=>{let l=this.parseJSON(e.responseText);o&&o(l)},r&&(e.ontimeout=r),e.onprogress=()=>{},e.send(s),e}static xhrRequest(e,t,n,s,i,r,o,l){return e.open(t,n,!0),e.timeout=r,e.setRequestHeader("Content-Type",s),e.onerror=()=>l&&l(null),e.onreadystatechange=()=>{if(e.readyState===yn.complete&&l){let a=this.parseJSON(e.responseText);l(a)}},o&&(e.ontimeout=o),e.send(i),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch{return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let n=[];for(var s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;let i=t?`${t}[${s}]`:s,r=e[s];typeof r=="object"?n.push(this.serialize(r,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}return n.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},Pe=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.awaitingBatchAck=!1,this.currentBatch=null,this.currentBatchTimer=null,this.batchBuffer=[],this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=j.connecting,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+He.websocket),"$1/"+He.longpoll)}endpointURL(){return ye.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=j.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===j.open||this.readyState===j.connecting}poll(){this.ajax("GET","application/json",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:s}=e;this.token=n}else t=0;switch(t){case 200:s.forEach(i=>{setTimeout(()=>this.onmessage({data:i}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=j.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){this.currentBatch?this.currentBatch.push(e):this.awaitingBatchAck?this.batchBuffer.push(e):(this.currentBatch=[e],this.currentBatchTimer=setTimeout(()=>{this.batchSend(this.currentBatch),this.currentBatch=null},0))}batchSend(e){this.awaitingBatchAck=!0,this.ajax("POST","application/x-ndjson",e.join(`
`),()=>this.onerror("timeout"),t=>{this.awaitingBatchAck=!1,!t||t.status!==200?(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1)):this.batchBuffer.length>0&&(this.batchSend(this.batchBuffer),this.batchBuffer=[])})}close(e,t,n){for(let i of this.reqs)i.abort();this.readyState=j.closed;let s=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});this.batchBuffer=[],clearTimeout(this.currentBatchTimer),this.currentBatchTimer=null,typeof CloseEvent<"u"?this.onclose(new CloseEvent("close",s)):this.onclose(s)}ajax(e,t,n,s,i){let r,o=()=>{this.reqs.delete(r),s()};r=ye.request(e,this.endpointURL(),t,n,this.timeout,o,l=>{this.reqs.delete(r),this.isActive()&&i(l)}),this.reqs.add(r)}},ce={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,s,i,r,o]=JSON.parse(e);return t({join_ref:n,ref:s,topic:i,event:r,payload:o})}},binaryEncode(e){let{join_ref:t,ref:n,event:s,topic:i,payload:r}=e,o=this.META_LENGTH+t.length+n.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+o),a=new DataView(l),c=0;a.setUint8(c++,this.KINDS.push),a.setUint8(c++,t.length),a.setUint8(c++,n.length),a.setUint8(c++,i.length),a.setUint8(c++,s.length),Array.from(t,h=>a.setUint8(c++,h.charCodeAt(0))),Array.from(n,h=>a.setUint8(c++,h.charCodeAt(0))),Array.from(i,h=>a.setUint8(c++,h.charCodeAt(0))),Array.from(s,h=>a.setUint8(c++,h.charCodeAt(0)));var u=new Uint8Array(l.byteLength+r.byteLength);return u.set(new Uint8Array(l),0),u.set(new Uint8Array(r),l.byteLength),u.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,s);case this.KINDS.reply:return this.decodeReply(e,t,s);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,s)}},decodePush(e,t,n){let s=t.getUint8(1),i=t.getUint8(2),r=t.getUint8(3),o=this.HEADER_LENGTH+this.META_LENGTH-1,l=n.decode(e.slice(o,o+s));o=o+s;let a=n.decode(e.slice(o,o+i));o=o+i;let c=n.decode(e.slice(o,o+r));o=o+r;let u=e.slice(o,e.byteLength);return{join_ref:l,ref:null,topic:a,event:c,payload:u}},decodeReply(e,t,n){let s=t.getUint8(1),i=t.getUint8(2),r=t.getUint8(3),o=t.getUint8(4),l=this.HEADER_LENGTH+this.META_LENGTH,a=n.decode(e.slice(l,l+s));l=l+s;let c=n.decode(e.slice(l,l+i));l=l+i;let u=n.decode(e.slice(l,l+r));l=l+r;let h=n.decode(e.slice(l,l+o));l=l+o;let f=e.slice(l,e.byteLength),y={status:h,response:f};return{join_ref:a,ref:c,topic:u,event:O.reply,payload:y}},decodeBroadcast(e,t,n){let s=t.getUint8(1),i=t.getUint8(2),r=this.HEADER_LENGTH+2,o=n.decode(e.slice(r,r+s));r=r+s;let l=n.decode(e.slice(r,r+i));r=r+i;let a=e.slice(r,e.byteLength);return{join_ref:null,ref:null,topic:o,event:l,payload:a}}},wn=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||pn,this.transport=t.transport||Z.WebSocket||Pe,this.establishedConnections=0,this.defaultEncoder=ce.encode.bind(ce),this.defaultDecoder=ce.decode.bind(ce),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==Pe?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;Y&&Y.addEventListener&&(Y.addEventListener("pagehide",s=>{this.conn&&(this.disconnect(),n=this.connectClock)}),Y.addEventListener("pageshow",s=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=s=>t.rejoinAfterMs?t.rejoinAfterMs(s):[1e3,2e3,5e3][s-1]||1e4,this.reconnectAfterMs=s=>t.reconnectAfterMs?t.reconnectAfterMs(s):[10,50,100,150,200,250,500,1e3,2e3][s-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=Q(t.params||{}),this.endPoint=`${e}/${He.websocket}`,this.vsn=t.vsn||gn,this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new yt(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return Pe}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=ye.appendParams(ye.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=Q(e)),!this.conn&&(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=t=>this.onConnError(t),this.conn.onmessage=t=>this.onConnMessage(t),this.conn.onclose=t=>this.onConnClose(t))}log(e,t,n){this.logger(e,t,n)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let s=this.onMessage(i=>{i.ref===t&&(this.off([s]),e(Date.now()-n))});return!0}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),mn,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===j.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,n])=>n(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,s])=>{s(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(O.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case j.connecting:return"connecting";case j.open:return"open";case j.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([n])=>e.indexOf(n)===-1)}channel(e,t={}){let n=new bn(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:s,ref:i,join_ref:r}=e;this.log("push",`${t} ${n} (${r}, ${i})`,s)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:r,join_ref:o}=t;r&&r===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${i.status||""} ${n} ${s} ${r&&"("+r+")"||""}`,i);for(let l=0;l<this.channels.length;l++){const a=this.channels[l];a.isMember(n,s,i,o)&&a.trigger(s,i,r,o)}for(let l=0;l<this.stateChangeCallbacks.message.length;l++){let[,a]=this.stateChangeCallbacks.message[l];a(t)}})}leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n.isJoined()||n.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};function vn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Cn([e,t],n,s){return[n?()=>n(e()):e,s?i=>t(s(i)):t]}function En(e){try{return document.querySelector(e)}catch{return null}}function Tn(e,t){const n=En(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function Sn(e,t,n,s){let i=!1;const r=l=>typeof l=="string"?{value:l}:l,o=Cn(R(r(e()),{equals:(l,a)=>l.value===a.value}),void 0,l=>(!i&&t(l),l));return n&&ot(n((l=e())=>{i=!0,o[1](r(l)),i=!1})),{signal:o,utils:s}}function An(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:R({value:""})};return e}function xn(){return Sn(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:s})=>{t?window.history.replaceState(s,"",e):window.history.pushState(s,"",e),Tn(window.location.hash.slice(1),n)},e=>vn(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function Rn(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function s(i,r){if(n)return!(n=!1);const o={to:i,options:r,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const l of e)l.listener({...o,from:l.location,retry:a=>{a&&(n=!0),l.navigate(i,r)}});return!o.defaultPrevented}return{subscribe:t,confirm:s}}const kn=/^(?:[a-z0-9]+:)?\/\//i,Pn=/^\/+|(\/)\/+$/g;function F(e,t=!1){const n=e.replace(Pn,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function he(e,t,n){if(kn.test(t))return;const s=F(e),i=n&&F(n);let r="";return!i||t.startsWith("/")?r=s:i.toLowerCase().indexOf(s.toLowerCase())!==0?r=s+i:r=i,(r||"/")+F(t,!r)}function jn(e,t){if(e==null)throw new Error(t);return e}function bt(e,t){return F(e).replace(/\/*(\*.*)?$/g,"")+F(t)}function Ln(e){const t={};return e.searchParams.forEach((n,s)=>{t[s]=n}),t}function On(e,t,n){const[s,i]=e.split("/*",2),r=s.split("/").filter(Boolean),o=r.length;return l=>{const a=l.split("/").filter(Boolean),c=a.length-o;if(c<0||c>0&&i===void 0&&!t)return null;const u={path:o?"":"/",params:{}},h=f=>n===void 0?void 0:n[f];for(let f=0;f<o;f++){const y=r[f],E=a[f],b=y[0]===":",L=b?y.slice(1):y;if(b&&je(E,h(L)))u.params[L]=E;else if(b||!je(E,y))return null;u.path+=`/${E}`}if(i){const f=c?a.slice(-c).join("/"):"";if(je(f,h(i)))u.params[i]=f;else return null}return u}}function je(e,t){const n=s=>s.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function $n(e){const[t,n]=e.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((i,r)=>i+(r.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function wt(e){const t=new Map,n=Lt();return new Proxy({},{get(s,i){return t.has(i)||Ot(n,()=>t.set(i,C(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function vt(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),s=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)i.push(n+=t[1]),s=s.slice(t[0].length);return vt(s).reduce((r,o)=>[...r,...i.map(l=>l+o)],[])}const Nn=100,Ct=lt(),ve=lt(),Ce=()=>jn(Ue(Ct),"Make sure your app is wrapped in a <Router />");let te;const Ve=()=>te||Ue(ve)||Ce().base,_n=e=>{const t=Ve();return C(()=>t.resolvePath(e()))},Bn=e=>{const t=Ce();return C(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Mn=()=>Ce().location;function Hn(e,t="",n){const{component:s,data:i,children:r}=e,o=!r||Array.isArray(r)&&!r.length,l={key:e,element:s?()=>T(s,{}):()=>{const{element:a}=e;return a===void 0&&n?T(n,{}):a},preload:e.component?s.preload:e.preload,data:i};return Et(e.path).reduce((a,c)=>{for(const u of vt(c)){const h=bt(t,u),f=o?h:h.split("/*",1)[0];a.push({...l,originalPath:u,pattern:f,matcher:On(f,!o,e.matchFilters)})}return a},[])}function Un(e,t=0){return{routes:e,score:$n(e[e.length-1])*1e4-t,matcher(n){const s=[];for(let i=e.length-1;i>=0;i--){const r=e[i],o=r.matcher(n);if(!o)return null;s.unshift({...o,route:r})}return s}}}function Et(e){return Array.isArray(e)?e:[e]}function Tt(e,t="",n,s=[],i=[]){const r=Et(e);for(let o=0,l=r.length;o<l;o++){const a=r[o];if(a&&typeof a=="object"&&a.hasOwnProperty("path")){const c=Hn(a,t,n);for(const u of c){s.push(u);const h=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!h)Tt(a.children,u.pattern,n,s,i);else{const f=Un([...s],i.length);i.push(f)}s.pop()}}}return s.length?i:i.sort((o,l)=>l.score-o.score)}function Dn(e,t){for(let n=0,s=e.length;n<s;n++){const i=e[n].matcher(t);if(i)return i}return[]}function In(e,t){const n=new URL("http://sar"),s=C(a=>{const c=e();try{return new URL(c,n)}catch{return console.error(`Invalid path ${c}`),a}},n,{equals:(a,c)=>a.href===c.href}),i=C(()=>s().pathname),r=C(()=>s().search,!0),o=C(()=>s().hash),l=C(()=>"");return{get pathname(){return i()},get search(){return r()},get hash(){return o()},get state(){return t()},get key(){return l()},query:wt(rt(r,()=>Ln(s())))}}function Fn(e,t="",n,s){const{signal:[i,r],utils:o={}}=An(e),l=o.parsePath||(d=>d),a=o.renderPath||(d=>d),c=o.beforeLeave||Rn(),u=he("",t),h=void 0;if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!i().value&&r({value:u,replace:!0,scroll:!1});const[f,y]=R(!1),E=async d=>{y(!0);try{await $t(d)}finally{y(!1)}},[b,L]=R(i().value),[_,q]=R(i().state),D=In(b,_),B=[],k={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath(d){return he(u,d)}};if(n)try{te=k,k.data=n({data:void 0,params:{},location:D,navigate:G(k)})}finally{te=void 0}function ie(d,g,p){A(()=>{if(typeof g=="number"){g&&(o.go?c.confirm(g,p)&&o.go(g):console.warn("Router integration does not support relative routing"));return}const{replace:P,resolve:re,scroll:M,state:W}={replace:!1,resolve:!0,scroll:!0,...p},H=re?d.resolvePath(g):he("",g);if(H===void 0)throw new Error(`Path '${g}' is not a routable path`);if(B.length>=Nn)throw new Error("Too many redirects");const J=b();if((H!==J||W!==_())&&!cn){if(c.confirm(H,p)){const St=B.push({value:J,replace:P,scroll:M,state:_()});E(()=>{L(H),q(W)}).then(()=>{B.length===St&&z({value:H,state:W})})}}})}function G(d){return d=d||Ue(ve)||k,(g,p)=>ie(d,g,p)}function z(d){const g=B[0];g&&((d.value!==g.value||d.state!==g.state)&&r({...d,replace:g.replace,scroll:g.scroll}),B.length=0)}$(()=>{const{value:d,state:g}=i();A(()=>{d!==b()&&E(()=>{L(d),q(g)})})});{let d=function(g){if(g.defaultPrevented||g.button!==0||g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)return;const p=g.composedPath().find(J=>J instanceof Node&&J.nodeName.toUpperCase()==="A");if(!p||!p.hasAttribute("link"))return;const P=p.href;if(p.target||!P&&!p.hasAttribute("state"))return;const re=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||re&&re.includes("external"))return;const M=new URL(P);if(M.origin!==window.location.origin||u&&M.pathname&&!M.pathname.toLowerCase().startsWith(u.toLowerCase()))return;const W=l(M.pathname+M.search+M.hash),H=p.getAttribute("state");g.preventDefault(),ie(k,W,{resolve:!1,replace:p.hasAttribute("replace"),scroll:!p.hasAttribute("noscroll"),state:H&&JSON.parse(H)})};pt(["click"]),document.addEventListener("click",d),ot(()=>document.removeEventListener("click",d))}return{base:k,out:h,location:D,isRouting:f,renderPath:a,parsePath:l,navigatorFactory:G,beforeLeave:c}}function qn(e,t,n,s,i){const{base:r,location:o,navigatorFactory:l}=e,{pattern:a,element:c,preload:u,data:h}=s().route,f=C(()=>s().path);u&&u();const y={parent:t,pattern:a,get child(){return n()},path:f,params:i,data:t.data,outlet:c,resolvePath(E){return he(r.path(),E,f())}};if(h)try{te=y,y.data=h({data:t.data,params:i,location:o,navigate:l(y)})}finally{te=void 0}return y}const Gn=Ge("<a link>"),Vn=e=>{const{source:t,url:n,base:s,data:i,out:r}=e,o=t||xn(),l=Fn(o,s,i);return T(Ct.Provider,{value:l,get children(){return e.children}})},Kn=e=>{const t=Ce(),n=Ve(),s=De(()=>e.children),i=C(()=>Tt(s(),bt(n.pattern,e.base||""),zn)),r=C(()=>Dn(i(),t.location.pathname)),o=wt(()=>{const u=r(),h={};for(let f=0;f<u.length;f++)Object.assign(h,u[f].params);return h});t.out&&t.out.matches.push(r().map(({route:u,path:h,params:f})=>({originalPath:u.originalPath,pattern:u.pattern,path:h,params:f})));const l=[];let a;const c=C(rt(r,(u,h,f)=>{let y=h&&u.length===h.length;const E=[];for(let b=0,L=u.length;b<L;b++){const _=h&&h[b],q=u[b];f&&_&&q.route.key===_.route.key?E[b]=f[b]:(y=!1,l[b]&&l[b](),it(D=>{l[b]=D,E[b]=qn(t,E[b-1]||n,()=>c()[b+1],()=>r()[b],o)}))}return l.splice(u.length).forEach(b=>b()),f&&y?f:(a=E[0],E)}));return T(gt,{get when(){return c()&&a},keyed:!0,children:u=>T(ve.Provider,{value:u,get children(){return u.outlet()}})})},Le=e=>{const t=De(()=>e.children);return me(e,{get children(){return t()}})},zn=()=>{const e=Ve();return T(gt,{get when(){return e.child},keyed:!0,children:t=>T(ve.Provider,{value:t,get children(){return t.outlet()}})})};function Oe(e){e=me({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=qe(e,["href","state","class","activeClass","inactiveClass","end"]),n=_n(()=>e.href),s=Bn(n),i=Mn(),r=C(()=>{const o=n();if(o===void 0)return!1;const l=F(o.split(/[?#]/,1)[0]).toLowerCase(),a=F(i.pathname).toLowerCase();return e.end?l===a:a.startsWith(l)});return(()=>{const o=Gn();return mt(o,me(t,{get href(){return s()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!r(),[e.activeClass]:r(),...t.classList}},get["aria-current"](){return r()?"page":void 0}}),!1,!1),o})()}const Wn=(...e)=>[...e].join(" "),Jn=e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"bau"+n},Qe=(e,t,n)=>{const s=document.createElement("style");s.id=t,s.append(n),e.append(s)},Ze=(e,t,n)=>{const s=Jn(t);return document.getElementById(s)||(e?Qe(n,s,`${e}${s} { ${t}}`):Qe(n,s,t)),s},et=(e,t,n)=>t.reduce((s,i,r)=>{if(typeof n[r]!="object")return s+i+(n[r]??"");{const o=Object.keys(e).filter(a=>typeof e[a]!="function"&&e[a]),l=Object.entries(n[r]).reduce((a,[c,u])=>o.includes(c)?a+u:a,"");return s+i+l}},"");function Ee({document:e=window.document,target:t=e.head}={}){const n=(i,r)=>(o,...l)=>{const[a,c]=qe(r,["class"]),u=et(c,o,l),h=Ze(".",u,t);return fn(me({component:i,class:Wn(h,a.class),...c}))},s=i=>(r,...o)=>Ze(i,et("",r,o),t);return{styled:n,css:s("."),keyframes:s("@keyframes "),createGlobalStyles:s()}}const{css:se,styled:Xn}=Ee(),$e=se`
  color: midnightblue;
  font-weight: bold;
  padding: 0.3em;
  border-radius: 5px;
  border: 2px solid;
  background-color: bisque;
  margin-right: 10px;
  text-decoration: none;
`,ue=se`
  color: dodgerblue;
  border-radius: 5px;
  border: 2px solid;
  margin-right: 10px;
  padding: 0.3em;
  text-decoration: none;
`,Yn=se`
  display: flex;
`,Qn=se`
  display: flex;
  justify-content: space-between;
  align-content: center;
  align-items: stretch;
  background-color: #282c34;
`,Zn=se`
  display: flex;
  align-items: center;
`,es=e=>Xn("nav",e)`
  padding: 1em;
  display: flex;
`,{keyframes:ts,css:Te}=Ee(),Es=Te`
  text-align: center;
`,ns=ts`
from {
  transform: rotate(0deg);
}
to {
  transform: rotate(360deg);
}
`,ss=Te`
  height: 4vmin;
  pointer-events: none;
`,Ts=Te`
  animation: ${ns} infinite 20s linear;
  height: 20vmin;
  pointer-events: none;
`,Ss=Te`
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
`,is="/spa/assets/phoenix-150a2de5.svg",{css:rs,styled:os,keyframes:ls}=Ee(),[as,cs]=R(!1),[us,hs]=R(0),[fs,ds]=R(10),As={bool:as,setBool:cs,data:us,setData:hs,slide:fs,setSlide:ds,css:rs,styled:os,keyframes:ls},tt="/spa/images/online.png",nt="/spa/images/offline.png",gs=e=>{const t=({opacity:n=1,bg:s,src:i})=>{e.style.opacity=n,e.setAttribute("src",i),e.style.backgroundColor=s};window.onload=()=>{navigator.onLine?t({src:tt,opacity:.8,bg:""}):t({src:nt,bg:"white"})},window.onoffline=()=>t({src:nt,bg:"white"}),window.ononline=()=>t({src:tt,opacity:.8,bg:""})},ps=Ge('<a><img alt="phoenix"><span>Phoenix'),ms=Ge('<div><div><div><img alt="online-status">'),ys=new wn("/socket",{params:{token:window.userToken}});ys.connect();const{createGlobalStyles:bs}=Ee();bs`
  body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}
`;function ws(e){history.pushState("/","","/");const t=ke(()=>Se(()=>import("./Home-02823aeb.js"),[])),n=ke(()=>Se(()=>import("./Comp1-bbfd4720.js"),[])),s=ke(()=>Se(()=>import("./Comp2-8f4e0713.js"),[]));return console.log("return","http://localhost/welcome"),i=>(()=>{const r=ms(),o=r.firstChild,l=o.firstChild,a=l.firstChild;return X(o,Qn),Be(o,T(es,{get children(){return[T(Oe,{activeClass:$e,inactiveClass:ue,end:!0,href:"/",children:"Home"}),T(Oe,{activeClass:$e,inactiveClass:ue,end:!0,href:"/c1",children:"Comp1"}),T(Oe,{activeClass:$e,inactiveClass:ue,end:!0,href:"/c2",children:"Comp2"}),(()=>{const c=ps(),u=c.firstChild;return X(c,ue+" "+Yn),ee(u,"src",is),X(u,ss),$(()=>ee(c,"href","http://localhost/welcome")),c})()]}}),l),X(l,Zn),nn(c=>gs(c),a),Be(r,T(Kn,{get children(){return[T(Le,{path:"/",component:t}),T(Le,{path:"/c1",component:n}),T(Le,{path:"/c2",component:s})]}}),null),r})()}const vs=document.getElementById("spa"),Cs=ws();Yt(()=>T(Vn,{get children(){return Cs()}}),vs);export{X as a,Es as b,R as c,ee as d,Ts as e,jt as f,$ as g,Ss as h,Be as i,pt as j,As as k,ot as o,ys as s,Ge as t};
