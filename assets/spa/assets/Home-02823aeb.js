import{o as J,c as g,s as p,a as b,b as M,h as O,d as T,e as z,i,t as A}from"./index-8e64e00b.js";const D="/spa/assets/logo-123b04bc.svg";function v(n,l){if(!n)return null;const t=n.channel(l,{user_token:window.userToken});return t.join().receive("ok",()=>{console.log(`Joined successfully ${l}`)}).receive("error",o=>{console.log(`Unable to join ${l}`,o.reason)}),J(()=>{console.log("closing channel"),t.leave()}),t}const H=A('<div><header><h1>Phoenix renders SolidJS</h1><br><img alt="solid"><br><h2>Welcome </h2><p>This page has been visited <!> time(s)</p><p>Memory usage: <!> Mo</p><br><p>Current node: </p><p>Cookie: </p><p>Node event: </p><p>Connected nodes: ');function U(){const[n,l]=g(""),[t,o]=g(0),[m,_]=g(""),$=v(p,"info");return $.on("get_info",e=>e.status==="unauthorized"?channel.leave():l(e)),$.on("nodes_event",e=>{Object.keys(e).includes("up")&&_(`Connected node: ${e.up}`),Object.keys(e).includes("down")&&_(`Disconnected node: ${e.down}`)}),v(p,"counter:visits").on("init_count",e=>o(e.count)),(()=>{const e=H(),f=e.firstChild,k=f.firstChild,y=k.nextSibling,s=y.nextSibling,j=s.nextSibling,c=j.nextSibling;c.firstChild;const r=c.nextSibling,w=r.firstChild,C=w.nextSibling;C.nextSibling;const d=r.nextSibling,N=d.firstChild,S=N.nextSibling;S.nextSibling;const E=d.nextSibling,a=E.nextSibling;a.firstChild;const u=a.nextSibling;u.firstChild;const h=u.nextSibling;h.firstChild;const x=h.nextSibling;return x.firstChild,b(e,M),b(f,O),T(s,"src",D),b(s,z),i(c,()=>n().user,null),i(r,t,C),i(d,()=>n().memory,S),i(a,()=>n().curr_node,null),i(u,()=>n().cookie,null),i(h,m,null),i(x,()=>n().connected_nodes,null),e})()}export{U as default};
